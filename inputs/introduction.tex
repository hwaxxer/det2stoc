\chapter{Introduction}
\label{introduction}
For many applications in Machine Learning (ML), and in particular for learning complex continuous control, training is often done in simulation rather than in the real world. Data is abundant in simulation and can often be generated faster than real-time, being limited strictly by computing power. In contrast, collecting data in the real world is arduous, time consuming and expensive. When training agents using Reinforcement Learning (RL), the training process might also in certain scenarios cause safety concerns. Since a key component of learning is exploration, it is possible that an agent executes actions that pose a danger to itself or its environment.

However, simulation comes with drawbacks: a model trained solely in simulation may behave very differently when transfered to the real world due to modelling errors or insufficiently accurate physics simulation. Furthermore, while simulation can provide useful initial indicators for the potential of various RL algorithms, it cannot reliably predict RL performance for real robotics systems. Many RL tasks depend heavily on the physical properties of the system. Although sophisticated simulation engines offer a wide range of adjustable parameters, it is neither guaranteed that correct values correspond to the most accurate simulation of reality, nor can each and every parameter accurately be measured in isolation. An important research area is thus minimizing the discrepancy, or \emph{reality gap} \parencite{Jakobi1995NoiseAT}, between simulation and reality, resulting in more robust behavior and reducing time spent training in the real world. This research field is also known as Simulation-to-Real (Sim-to-Real).

\section{Research Question}

Consider a general-purpose simulator. Using known physics laws, it can be viewed as defining a deterministic function $f_{\vph}(\vs, \va) \rightarrow \vns$ that returns the next state $\vns$ given current state $\vs$ and control actions $\va$ at time $t$. This function is ''parameterized'' by our choice of variables $\vph$ that describe the environment (such as inertial and frictional properties of robot and objects) as well as configurations of the simulator software (e.g. choice of integrator, choice of parameters that influence how contacts are computed). Simulators describe well the general behavior of the system, but contain parameters that are infeasible to estimate precisely.%, such as damping properties of the joints.

Given a sufficiently accurate and flexible simulator, the parameters $\vph$ could be tuned such that $f_{\vph}(\vs, \va) \rightarrow \vns$ matches the mean of the real world behavior. However, it is not realistic to expect to find the exact deterministic function and parameters $\vph$ that specify dynamics of interactions in the real world.

A deterministic solution is generally not desirable, and instead, to capture the uncertainty of real data, we wish to model a stochastic distribution. A state-of-the-art solution is learning a probabilistic function $g(\cdot)$, such that the stochastic part of the function yields a probability distribution over next states $\vns$ given states $\vs$ and actions $\va$.

Building a generative model ''from scratchâ€™' using real world data is not data-efficient. Instead, we propose to learn the parameters $\vph$ by aligning the output of an existing physics simulator with a small set of real-world observations. This thesis investigates a data-driven approach that explores how real observations can be combined with general-purpose simulators to make learning of the stochastic function $g(\cdot)$ more data efficient.

\todo{How to use GP simulator and combine with data we have?}

\section{Contributions}

The main contribution of this thesis is the algorithm \dettostoc{}, a data-efficient solution to learn a generative model by aligning a physics simulator with real-world observations.

\section{Ethics, societal aspects and sustainability}

As a research topic, Sim-to-Real has major impact on the world. With current learning techniques, it is not feasible to learn complex RL tasks with few samples. This means simulation is of great significance in the development of intelligent systems. Enabling intelligent systems and robots to interact with their environment at the skill level of humans will have substantial impact on society. The future will likely be vast of robots performing everything from mundane everyday chores to complex tasks that are potentially hazardous to humans. People will inevitably lose their jobs. This happens during every technical revolution and there needs to be a system in place to support affected people when it happens and assist and rehabilitate their transition into other professions or reeducation. This redistribution of needs and labour can also have an effect on the economy. We can also not ignore the importance of robots in controversial and potentially malicious practices such as armed drones.

%As the focus on this thesis is ultimately to simulate reality better, it can be utilized in a variety of different research areas. Intelligent systems can have great beneficial impact on the world, from mundane chores such as vacuuming homes to tasks that are hazardous for humans. 

In essence, the effects of improving simulation has in itself no ethical impact but could enable or facilitate the learning of intelligent systems which comes with both positive and negative consequences.

\section{Overview of thesis}
The theoretical concepts behind deep learning and variational methods used in the project are presented in Chapter \ref{background}. This chapter also reviews the body of work done in the domains of dynamics randomization and Sim-to-Real transfer. Chapter \ref{methods} introduces the method, describes the \dettostoc{} algorithm and lists tools and motivation for the models used. The baseline architecture and proposed extensions are also presented in detail. Chapter \ref{experiments} describes the conducted experiments and obtained results. Chapter \ref{conclusions} summarizes the project work, draws conclusions, discusses encountered problems, and suggests potential future directions for the work.